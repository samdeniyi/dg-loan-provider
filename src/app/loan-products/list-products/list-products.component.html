<div class="container-fluid">
  <app-block-header [title]="title" [breadcrumbItem]="breadcrumbItem"></app-block-header>
  <div class="row clearfix">
    <div class="col-md-12">
      <div class="card">
        <div class="header">
          <h2>Loan Product List</h2>
        </div>
        <div class="body">
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="col-6">
                  <!--                  <div class="shadow p-3 mb-5 bg-white rounded">Search user</div>-->
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="body table-responsive" *ngIf="productListObj">
                <table class="table">
                  <thead>
                    <!--                  "name": "StuLoan",-->
                    <!--                  "description": "for all level 1 student only",-->
                    <!--                  "minLoanAmount": 1000,-->
                    <!--                  "maxLoanAmount": 5000,-->
                    <!--                  "minTenor": 1,-->
                    <!--                  "maxTenor": 5,-->
                    <!--                  "interestRate": 1.75,-->
                    <tr>
                      <th>#</th>
                      <th>NAME</th>
                      <th>DESCRIPTION</th>
                      <th>MIN LOAN AMOUNT</th>
                      <th>MAX LOAN AMOUNT</th>
                      <th>MIN TENOR</th>
                      <th>MAX TENOR</th>
                      <th>INTEREST RATE</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let u of productListObj.reverse(); let i = index">
                      <th scope="row">{{ i + 1 }}</th>
                      <td>{{ u.name }}</td>
                      <td>{{ u.description }}</td>
                      <td>{{ u.minLoanAmount }}</td>
                      <td>{{ u.maxLoanAmount }}</td>
                      <td>{{ u.minTenor }}</td>
                      <td>{{ u.maxTenor }}</td>
                      <td>{{ u.interestRate }}</td>
                      <td>
                        <button class="btn btn-sm btn-link" (click)="onViewModal(view, u)">
                          <i class="icon icon-eye text-gray-dark" style="color: #0a0;"></i>
                        </button>
                        <button class="btn btn-sm btn-link" (click)="onViewModal(delete, u)">
                          <i class="icon icon-trash" style="color: #ff4500"></i>
                        </button>
                        <button class="btn btn-sm btn-link" (click)="goto(u.id)">
                          <i class="icon icon-pencil" style="color: #0d69af"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div *ngIf="!productListObj">
                <p>Loading...</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #view let-c="close" let-d="dismiss">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <h2 class="title text-center">Loan Name - {{ selectedTrans['name'] }}</h2>
        <div class="transaction_status container-fluid d-flex flex-column" *ngIf="selectedTrans">
          <ul class="list-group-horizontal-md row px-0">
            <li class="list-group-item col-lg-12 col-md-12">
              Description
              <p>
                <small>{{ selectedTrans['description'] }}</small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Loan Type
              <p>
                <small [innerHTML]="selectedTrans['loanType']"></small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Is BVN Required
              <p>
                <small>{{ selectedTrans['isBVNRequired'] }}</small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Max Loan Amount
              <p>
                <small>{{ selectedTrans['maxLoanAmount'] }}</small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Max Tenor
              <p>
                <small>{{ selectedTrans['maxTenor'] }}</small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Min Loan Amount
              <p>
                <small>{{ selectedTrans['minLoanAmount'] }}</small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Min Tenor
              <p>
                <small>{{ selectedTrans['minTenor'] }}</small>
              </p>
            </li>
          </ul>

          <h3 class="sub_title">Rates</h3>
          <ul class="list-group-horizontal-md row px-0">
            <li class="list-group-item col-lg-4 col-md-4">
              Interest Rate
              <p>
                <small>{{ selectedTrans['interestRate'] }}</small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Rate Type
              <p>
                <small [innerHTML]="selectedTrans['rateType']"></small>
              </p>
            </li>
            <li class="list-group-item col-lg-4 col-md-4">
              Penalty Rate
              <p>
                <small>{{ selectedTrans['penaltyRate'] }}</small>
              </p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <button type="button" class="search-close" aria-label="Close search form" (click)="closeModel('Close View Modal')">
    <i class="fas fa-times"></i>
  </button>
</ng-template>

<ng-template #edith let-c="close" let-d="dismiss">
  <h2>Hello Edith</h2>
  <button type="button" class="search-close" aria-label="Close search form" (click)="closeModel('Close Edith Modal')">
    <i class="fas fa-times"></i>
  </button>
</ng-template>
<ng-template #delete let-c="close" let-d="dismiss">
  <h2>Hello Delete</h2>
  <button type="button" class="search-close" aria-label="Close search form" (click)="closeModel('Close Delete Modal')">
    <i class="fas fa-times"></i>
  </button>
</ng-template>
