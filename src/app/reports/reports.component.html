<div class="container-fluid">
  <app-block-header [title]="title" [breadcrumbItem]="breadcrumbItem"></app-block-header>

  <div class="row clearfix d-none">
    <div class="col-lg-4">
      <div class="card">
        <div class="header pb-0">
          <h2>Transactions Status</h2>
        </div>
        <div class="body">
          <div class="chart">
            <canvas
              baseChart
              [data]="pieChartData"
              [labels]="pieChartLabels"
              [chartType]="pieChartType"
              [options]="pieChartOptions"
              [plugins]="pieChartPlugins"
              [colors]="pieChartColors"
              [legend]="pieChartLegend"
            >
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row clearfix">
    <div class="col-lg-12">
      <div class="card">
        <div class="header">
          <h2>Loan Transactions</h2>
        </div>

        <div class="body table-responsive">
          <table class="table" *ngIf="loanTransactionReports && loanTransactionReports.length > 0">
            <thead>
              <tr>
                <th>#</th>
                <th>Date</th>
                <th>Transaction Reference</th>
                <th>Amount</th>
                <th>Transaction Type</th>
                <th>Transaction Status</th>
                <th>Fee</th>
                <th>Loan Applicant</th>
                <th>Product Name</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let loanTransactionReport of loanTransactionReports; let i = index">
                <th scope="row">{{ i + 1 }}</th>
                <td>{{ loanTransactionReport.date | amLocal | amDateFormat: 'YYYY-MM-DD HH:mm' }}</td>
                <td>{{ loanTransactionReport.transactionReference }}</td>
                <td>{{ loanTransactionReport.amount }}</td>
                <td>{{ loanTransactionReport.transactionType }}</td>
                <td>
                  <span class="indicator" [ngClass]="transStatus(loanTransactionReport.transactionStatus)"></span>
                  {{ loanTransactionReport.transactionStatus }}
                </td>
                <td>{{ loanTransactionReport.fee }}</td>
                <td>{{ loanTransactionReport.loanApplicant }}</td>
                <td>{{ loanTransactionReport.productName }}</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <nav aria-label="Page navigation example d-none">
            <ul class="pagination">
              <li class="page-item" (click)="selectPage(currentPage - 1, $event)" disabled="(currentPage - range) > 1">
                <a class="page-link" href="javascript:void(0)" (click)="cancelEvent($event)">Previous</a>
              </li>
              <li class="page-item" *ngFor="let page of pages | async" [class.active]="page == currentPage">
                <a class="page-link" href="javascript:void(0)" (click)="selectPage(page, $event)">
                  {{ page }}
                </a>
              </li>
              <li class="page-item" (click)="selectPage(currentPage + 1, $event)">
                <a class="page-link" href="javascript:void(0)" (click)="cancelEvent($event)">Next</a>
              </li>
            </ul>
          </nav>

          <h3 class="title" *ngIf="loanTransactionReports && loanTransactionReports.length === 0">No Record Found</h3>
        </div>
      </div>
    </div>
  </div>
</div>
